// Copyright (c) Jupyter Development Team.
// Distributed under the terms of the Modified BSD License.
import { Dialog, showDialog } from '@jupyterlab/apputils';
import * as React from 'react';
/**
 * Prompt the user what do about companion packages, if present.
 *
 * @param builder the build manager
 */
export function presentCompanions(kernelCompanions, serverCompanion) {
    let entries = [];
    if (serverCompanion) {
        entries.push(React.createElement("p", null,
            "This package has indicated that it needs a corresponding server extension:",
            React.createElement("code", null,
                " ",
                serverCompanion.base.name)));
    }
    if (kernelCompanions.length > 0) {
        entries.push(React.createElement("p", null, "This package has indicated that it needs a corresponding package for the kernel."));
        for (let entry of kernelCompanions) {
            entries.push(React.createElement("p", null,
                "The package",
                React.createElement("code", null, entry.kernelInfo.base.name),
                ", is required by the following kernels:"));
            let kernelEntries = [];
            for (let kernel of entry.kernels) {
                kernelEntries.push(React.createElement("li", null,
                    React.createElement("code", null, kernel.display_name)));
            }
            entries.push(React.createElement("ul", null, kernelEntries));
        }
    }
    let body = (React.createElement("div", null,
        entries,
        React.createElement("p", null, "You should make sure that the indicated packages are installed before trying to use the extension. Do you want to continue with the extension installation?")));
    return showDialog({
        title: 'Kernel companions',
        body,
        buttons: [
            Dialog.cancelButton(),
            Dialog.okButton({
                label: 'OK',
                caption: 'Install the Jupyterlab extension.'
            })
        ]
    }).then(result => {
        return result.button.accept;
    });
}
//# sourceMappingURL=companions.js.map